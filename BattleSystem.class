// Source code is decompiled from a .class file using FernFlower decompiler (from Intellij IDEA).
import java.io.PrintStream;
import java.util.Random;
import java.util.Scanner;

public class BattleSystem {
   public BattleSystem() {
   }

   public static void battle(Scanner var0, Character var1, Enemy var2) {
      new Random();
      System.out.println("\n--- A Wild " + var2.getName() + " Appears! ---");

      while(var1.isAlive() && var2.isAlive()) {
         PrintStream var10000 = System.out;
         String var10001 = var1.getName();
         var10000.println("\n" + var10001 + " HP: " + var1.getHealth());
         var10000 = System.out;
         var10001 = var2.getName();
         var10000.println(var10001 + " HP: " + var2.getHealth());
         System.out.print("What do you do? (attack/defend) Type: a for attack, d for defend: ");
         String var4 = var0.next().toLowerCase();
         int var5;
         if (var4.equals("a")) {
            var5 = Math.max(0, var1.getAttack() - var2.getDefense());
            var2.takeDamage(var5);
            var10000 = System.out;
            var10001 = var2.getName();
            var10000.println("You attack the " + var10001 + " and deal " + var5 + " damage!");
         } else if (var4.equals("d")) {
            System.out.println("You brace for the incoming attack, raising your guard.");
         } else {
            System.out.println("Invalid action. You lose your turn.");
         }

         if (!var2.isAlive()) {
            System.out.println("You have defeated the " + var2.getName() + "!");
            return;
         }

         System.out.println("The " + var2.getName() + " prepares to strike...");
         var5 = Math.max(0, var2.getAttack() - (var4.equals("d") ? var1.getDefense() * 2 : var1.getDefense()));
         var1.takeDamage(var5);
         var10000 = System.out;
         var10001 = var2.getName();
         var10000.println("The " + var10001 + " strikes, dealing " + var5 + " damage to you.");
         if (!var1.isAlive()) {
            var10000 = System.out;
            var10001 = var1.getName();
            var10000.println("\n" + var10001 + " has been defeated by the " + var2.getName() + ".");
            return;
         }
      }

   }

   public static void bossBattle(Scanner var0, Character var1, Enemy var2) {
      System.out.println("\n!!! BOSS BATTLE: " + var2.getName() + " Appears !!!");
      new Random();
      int var4 = 2;

      while(var1.isAlive() && var2.isAlive()) {
         PrintStream var10000 = System.out;
         String var10001 = var1.getName();
         var10000.println("\n" + var10001 + " HP: " + var1.getHealth());
         var10000 = System.out;
         var10001 = var2.getName();
         var10000.println(var10001 + " HP: " + var2.getHealth());
         System.out.println("Potions left: " + var4);
         System.out.println("Choose your action:");
         System.out.println("1. Attack (Normal Damage)");
         System.out.println("2. Heavy Attack (High Damage, lower defense)");
         System.out.println("3. Use Potion (Heal 20 HP)");
         System.out.print("Enter your choice (1, 2, or 3): ");
         boolean var5 = false;
         if (var0.hasNextInt()) {
            int var10 = var0.nextInt();
            var0.nextLine();
            boolean var6 = false;
            byte var7 = 1;
            int var11;
            switch (var10) {
               case 1:
                  var11 = Math.max(0, var1.getAttack() - var2.getDefense());
                  var2.takeDamage(var11);
                  var10000 = System.out;
                  var10001 = var2.getName();
                  var10000.println("You attack the " + var10001 + " and deal " + var11 + " damage!");
                  break;
               case 2:
                  var11 = Math.max(0, (int)((double)var1.getAttack() * 1.5) - var2.getDefense());
                  var2.takeDamage(var11);
                  var7 = 0;
                  System.out.println("You unleash a heavy blow! Deal " + var11 + " damage. Your guard is down!");
                  break;
               case 3:
                  if (var4 > 0) {
                     var1.heal(20);
                     --var4;
                     var10000 = System.out;
                     var10001 = var1.getName();
                     var10000.println("You drink a potion and heal 20 HP. " + var10001 + "'s HP is now " + var1.getHealth() + ".");
                  } else {
                     System.out.println("You are out of potions!");
                  }
                  break;
               default:
                  System.out.println("Invalid action. You hesitate.");
            }

            if (!var2.isAlive()) {
               var10000 = System.out;
               var10001 = var1.getName();
               var10000.println("\n" + var10001 + " has defeated the mighty " + var2.getName() + "!");
               return;
            }

            System.out.println("The " + var2.getName() + " retaliates...");
            int var8 = var1.getDefense() * var7;
            int var9 = Math.max(0, var2.getAttack() - var8);
            var1.takeDamage(var9);
            var10000 = System.out;
            var10001 = var2.getName();
            var10000.println("The " + var10001 + " strikes, dealing " + var9 + " damage to you.");
            if (!var1.isAlive()) {
               var10000 = System.out;
               var10001 = var1.getName();
               var10000.println("\n" + var10001 + " has been defeated by the " + var2.getName() + ".");
               return;
            }
         } else {
            System.out.println("Invalid input. You lose your turn.");
            var0.next();
         }
      }

   }
}
